<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>QuakePredictEC ‚Äî Prototipo (sin m√≥dulo de modelo)</title>
    <link rel="stylesheet" href="styles.css" />
</head>

<body>
    <header>
        <div class="logo" aria-hidden="true"></div>
        <div>
            <h1>QuakePredictEC</h1>
            <div class="subtitle">Plataforma de an√°lisis y predicci√≥n de sismos asociados a variaci√≥n clim√°tica en Ecuador</div>
        </div>
        
        <button id="btnTheme" class="chip" style="margin-left:auto;cursor:pointer;">
            üåô Modo oscuro
        </button>

    </header>

    <div class="container">
        <nav>
            <div class="section">
                <div class="tab" data-tab="mapa"><span class="dot" style="background: var(--accent2)"></span>
                    <div>Mapa de Riesgo</div>
                </div>
                <div class="tab" data-tab="datos"><span class="dot" style="background: #60a5fa"></span>
                    <div>Explorador de Datos</div>
                </div>
                <div class="tab" data-tab="alertas"><span class="dot" style="background: #f87171"></span>
                    <div>Alertas</div>
                </div>
            </div>
            <div class="section">
                <div class="chip">M√≠n. Magnitud: M‚â•4.0</div>
                <div class="chip">Horizonte: 7 d√≠as</div>
                <div class="chip">Regi√≥n: Costa / Sierra / Oriente</div>
            </div>
            <div class="section">
                <div class="badge">Demo offline ‚Ä¢ Datos simulados</div>
            </div>
        </nav>

        <main>
            <div class="toolbar">
                <div>
                    <label>Rango de fechas</label><br />
                    <input type="date" id="start"> <input type="date" id="end">
                </div>
            </div>

            <!-- Dashboard -->
            <section id="view-dashboard">
                <div class="kpis">
                    <div class="kpi">
                        <div class="label">Prob. promedio Ecuador (7d)</div>
                        <div class="value" id="kpiProb">12.4%</div>
                    </div>
                    <div class="kpi">
                        <div class="label">Sismos M‚â•4.0 (30d)</div>
                        <div class="value" id="kpiCount">8</div>
                    </div>
                    <div class="kpi">
                        <div class="label">Lluvia acumulada (Costa, 7d)</div>
                        <div class="value" id="kpiRain">132 mm</div>
                    </div>
                    <div class="kpi">
                        <div class="label">Alertas activas</div>
                        <div class="value" id="kpiAlerts">2</div>
                    </div>
                </div>
                <div class="grid">
                    <div class="card">
                        <h3>Tendencia s√≠smica vs. precipitaci√≥n</h3>
                        <div class="legend">
                            <span><span class="swatch"></span>Sismos (conteo diario)</span>
                            <span><span class="swatch" style="background: var(--accent2)"></span>Precipitaci√≥n
                                (mm)</span>
                        </div>
                        <svg id="lineChart" class="chart" viewBox="0 0 600 220" preserveAspectRatio="none"
                            aria-label="L√≠nea temporal sismos y lluvia"></svg>
                    </div>
                    <div class="card">
                        <h3>Distribuci√≥n espacial (riesgo simulado)</h3>
                        <div class="map" id="map"></div>
                        <div class="footer">Capas: <span class="chip">Fallas</span> <span class="chip">Sismicidad</span>
                            <span class="chip">√çndice h√≠drico</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Mapa -->
            <section id="view-mapa" hidden>
                <div class="card">
                    <h3>Mapa de riesgo</h3>
                    <div class="map" id="map2"
                        style="background:none; overflow:auto; max-height:420px; border:1px solid #1f2937; border-radius:10px;">
                        <img src="Figura-52-Mapa-de-multi-riesgo-por-inundacion-sequia-y-helada-del-sector-agropecuario.png"
                            alt="Mapa de riesgo s√≠smico"
                            style="width:auto; max-width:100%; height:auto; display:block;">
                    </div>
                </div>
            </section>

            <!-- Datos -->
            <section id="view-datos" hidden>
                <!-- Filtros para el explorador -->
                <div class="toolbar" style="margin-top:0">
                    <div>
                        <label>Buscar</label><br>
                        <input id="fSearch" placeholder="fecha o regi√≥n">
                    </div>
                    <div>
                        <label>Regi√≥n</label><br>
                        <select id="fRegion">
                        <option value="all">Todas</option>
                        <option value="Costa">Costa</option>
                        <option value="Sierra">Sierra</option>
                        <option value="Oriente">Oriente</option>
                        <option value="Insular">Insular</option>
                        </select>
                    </div>
                    <div>
                        <label>Fecha inicio</label><br>
                        <input type="date" id="fStart">
                    </div>
                    <div>
                        <label>Fecha fin</label><br>
                        <input type="date" id="fEnd">
                    </div>
                    <div>
                        <label>Lluvia (mm)</label><br>
                        <input type="number" id="fMinRain" placeholder="min" style="width:90px"> ‚Äî
                        <input type="number" id="fMaxRain" placeholder="max" style="width:90px">
                    </div>

                    <div style="align-self:end;margin-left:auto;display:flex;gap:6px;align-items:center">
                        <span class="badge" id="count">0</span>
                        <button id="btnPrev" class="chip">Anterior</button>
                        <button id="btnNext" class="chip">Siguiente</button>
                    </div>
                </div>

                <div class="card">
                    <h3>Explorador de datos</h3>
                    <p style="color:#cbd5e1;font-size:14px;margin-top:0">Vista de muestra con registros agregados.
                        Descarga simulada en CSV.</p>
                    <div id="table" style="max-height:320px;overflow:auto;border:1px solid #1f2937;border-radius:10px">
                        <table style="width:100%;border-collapse:collapse;font-size:13px">
                            <thead>
                                <tr style="position:sticky;top:0;background:#0b1220">
                                    <th data-sort="fecha"   style="text-align:left;padding:8px;border-bottom:1px solid #1f2937">Fecha ‚¨ç</th>
                                    <th data-sort="region"  style="text-align:left;padding:8px;border-bottom:1px solid #1f2937">Regi√≥n</th>
                                    <th data-sort="sismos"  style="text-align:left;padding:8px;border-bottom:1px solid #1f2937"># Sismos M‚â•4</th>
                                    <th data-sort="lluvia"  style="text-align:left;padding:8px;border-bottom:1px solid #1f2937">Lluvia (mm)</th>
                                    <th data-sort="presion" style="text-align:left;padding:8px;border-bottom:1px solid #1f2937">Presi√≥n (hPa)</th>
                                    <th data-sort="riesgo"  style="text-align:left;padding:8px;border-bottom:1px solid #1f2937">√çndice de riesgo</th>
                                </tr>
                            </thead>
                            <tbody id="rows"></tbody>
                        </table>
                    </div>
                    <div style="margin-top:10px">
                        <button id="btnCSV"
                            style="background:#60a5fa;border:0;color:#071018;padding:10px 14px;border-radius:10px;font-weight:700;cursor:pointer">Descargar
                            CSV</button>
                    </div>
                </div>
            </section>

            <!-- Alertas -->
            <section id="view-alertas" hidden>
                <div class="card">
                    <h3>Alertas activas</h3>
                    <ul id="alerts" style="list-style:none;padding-left:0;margin-top:8px"></ul>
                </div>
            </section>

        </main>
    </div>
    <script src="app.js"></script>
</body>

</html>